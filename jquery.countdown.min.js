jQuery.fn.countdown=function(e){var f={stepTime:60,format:"dd:hh:mm:ss",startTime:"01:12:32:55",digitImages:6,digitWidth:53,digitHeight:77,timerEnd:function(){},image:"digits.png"};var g=[],interval;var h=function(a){var c=0;var b=0;var d=0;for(var i=0;i<f.startTime.length;i++){if(parseInt(f.startTime[i])>=0){elem=jQuery('<div id="cnt_'+i+'" class="cntDigit" />').css({height:f.digitHeight*f.digitImages*10,float:'left',background:'url(\''+f.image+'\')',width:f.digitWidth});g.push(elem);j(c,-((parseInt(f.startTime[i])*f.digitHeight*f.digitImages)));g[c].__max=9;switch(f.format[i]){case'd':g[c].__max=9;break;case'h':g[c].__max=(b==0)?2:9;if(b==1)g[c].__condmax=3;++b;break;case'm':case's':g[c].__max=(d%2==0)?5:9;++d}++c}else elem=jQuery('<div class="cntSeparator"/>').css({float:'left'}).text(f.startTime[i]);a.append(elem)}};var j=function(a,b){if(b!==undefined)return g[a].css({'marginTop':b+'px'});return parseInt(g[a].css('marginTop').replace('px',''))};var k=function(a){g[a]._digitInitial=-(g[a].__max*f.digitHeight*f.digitImages);return function _move(){mtop=j(a)+f.digitHeight;if(mtop==f.digitHeight){j(a,g[a]._digitInitial);if(a>0)k(a-1)();else{clearInterval(interval);for(var i=0;i<g.length;i++)j(i,0);f.timerEnd();return}if((a>0)&&(g[a].__condmax!==undefined)&&(g[a-1]._digitInitial==j(a-1)))j(a,-(g[a].__condmax*f.digitHeight*f.digitImages));return}j(a,mtop);if(j(a)/f.digitHeight%f.digitImages!=0)setTimeout(_move,f.stepTime);if(mtop==0)g[a].__ismax=true}};jQuery.extend(f,e);this.css({height:f.digitHeight,overflow:'hidden'});h(this);interval=setInterval(k(g.length-1),1000)};